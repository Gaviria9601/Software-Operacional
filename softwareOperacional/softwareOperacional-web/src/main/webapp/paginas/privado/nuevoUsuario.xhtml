<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	template="/templates/templateContenido.xhtml"
	xmlns:a="http://xmlns.jcp.org/jsf/passthrough">

	<ui:define name="cuerpo">


		<h2>
			Empleado <small> Nuevo usuario al sistema</small>
		</h2>

		<br />

		<div class="box box-primary">
			<div class="box-header">
				<h3 class="box-title">Registro de nuevo empleado</h3>
			</div>
			<!-- /.box-header -->

			<h:form role="form">
				<p:panelGrid id="paneldatos">

					<div class="box-body">

						<div class="form-group">

							<label for="tfnombre">Nombre</label>
							<h:inputText type="text" class="form-control" id="nombre"
								a:placeholder="Nombre" value="#{usuarioController.nombre}" />
							<p:message for="nombre" />
						</div>

						<div class="form-group">

							<label for="apellido">Apellido</label>
							<h:inputText type="text" class="form-control" id="apellido"
								a:placeholder="apellido" value="#{usuarioController.apellido}" />
							<p:message for="apellido" />
						</div>

						<div class="form-group">

							<label for="tfnombre">Cedula</label>
							<h:inputText type="text" class="form-control" id="cedula"
								a:placeholder="cedula" value="#{usuarioController.cedula}" />
							<p:message for="cedula" />
						</div>

						<div class="form-group">
							<label for="tffecha">Fecha de nacimiento</label> <br></br>
							<p:inputMask id="tffecha" placeholder="a単o-mes-dia"
								value="#{usuarioController.fechaNacimiento}" mode="inline">
								<f:convertDateTime pattern="yyyy-MM-dd" />
							</p:inputMask>
						</div>

						<div class="form-group">
							<label for="tffechaingreso">Fecha de ingreso en la
								empresa</label> <br></br>
							<p:inputMask id="tffechaingreso" placeholder="a単o-mes-dia"
								value="#{usuarioController.fechaIngreso}" mode="inline">
								<f:convertDateTime pattern="yyyy-MM-dd" />
							</p:inputMask>
						</div>

						<div class="form-group">
							<label for="tfgen">Genero</label> <br></br>
							<h:selectOneMenu id="gen" value="#{usuarioController.genero}">
								<f:selectItem itemValue="F" itemLabel="Femenino" />
								<f:selectItem itemValue="M" itemLabel="Masculino" />
							</h:selectOneMenu>

						</div>

						<div class="form-group">
							<label for="cbdep">Departamento</label> <br></br>

							<h:selectOneMenu id="cbdep"
								value="#{usuarioController.departamento}" style="width:150px">
								<p:ajax listener="#{usuarioController.onDepartamentoChange}"
									update="cbmuni" />
								<f:selectItem itemLabel="Seleccione el Departamento"
									itemValue="" noSelectionOption="true" />
								<f:selectItems value="#{usuarioController.departamentos}"
									var="dep" itemValue="#{dep.nombre}" itemLabel="#{dep.nombre}" />
							</h:selectOneMenu>

							<p:message for="cbdep"></p:message>
						</div>


						<div class="form-group">
							<label for="muni">Municipio</label> <br></br>

							<h:selectOneMenu id="cbmuni"
								value="#{usuarioController.municipio}" style="width:150px">

								<f:selectItem itemLabel="Seleccione Ciudad" itemValue=""
									noSelectionOption="true" />
								<f:selectItems value="#{usuarioController.municipios}"
									var="muni" itemValue="#{muni.id}" itemLabel="#{muni.nombre}" />

							</h:selectOneMenu>
						</div>

						<div class="form-group">
							<label for="tfmuni">Tipo de usuario</label> <br></br>
							<h:selectOneMenu id="tipo"
								value="#{usuarioController.tipoUsuario}">

								<f:selectItems value="#{usuarioController.tipos}" var="t"
									itemLabel="#{t.nombre}" itemValue="#{t.id}">
								</f:selectItems>
							</h:selectOneMenu>
						</div>

						<div class="form-group">
							<label for="tfmuni">Cargo</label> <br></br>
							<h:selectOneMenu id="cargo" value="#{usuarioController.cargo}">

								<f:selectItems value="#{usuarioController.cargos}" var="t"
									itemLabel="#{t.cargo}" itemValue="#{t.id}">
								</f:selectItems>
							</h:selectOneMenu>
						</div>

						<p:panel id="basic" header="Usuario" style="margin-bottom:20px">
							<div class="form-group">
								<label for="usuario">Nombre de usuario</label>
								<h:inputText type="text" class="form-control" id="usuario"
									a:placeholder="usuario" value="#{usuarioController.nickname}" />
								<p:message for="usuario" />

							</div>



							<div class="form-group">
								<label for="tfdes">Contrase単a</label>
								<p:inputText type="password" class="form-control" id="contra"
									a:placeholder="contrase単a"
									value="#{usuarioController.contrasenia}" />
								<p:message for="contra" />
							</div>
							<p:commandButton value="Verificar nickname" ajax="false"
								class="btn btn-primary" process="@this,paneldatos"
								update="paneldatos" action="#{usuarioController.crearUsuario}" />
						</p:panel>


						<div class="box-footer">
							<p:commandButton value="Registrar Usuario" ajax="false"
								class="btn btn-primary" process="@this,paneldatos"
								update="paneldatos" action="#{usuarioController.crear}" />
						</div>
					</div>
				</p:panelGrid>
				<!-- /.box-body -->
			</h:form>

		</div>


	</ui:define>
</ui:composition>